<!DOCTYPE html>
<html>
<head>
  <title>Gemini API Example</title>
  <style>
    #input-container {
      margin-bottom: 10px;
    }
    #output {
      white-space: pre-wrap; /* Preserve line breaks and spaces */
      border: 1px solid #ccc;
      padding: 10px;
      min-height: 100px;
    }
  </style>
</head>
<body>
  <h1>Gemini API Example</h1>

  <div id="input-container">
    <label for="prompt">Prompt:</label><br>
    <textarea id="prompt" rows="4" cols="50"></textarea><br>
    <button onclick="generateContent()">Generate Content</button>
  </div>

  <h2>Output:</h2>
  <div id="output"></div>

  <script>
    // Replace with your actual Gemini API key
    const API_KEY = 'AIzaSyDaWkZKNEcLDE95MeAr7kGOvBbxEA3ght4';

    async function generateContent() {
      const promptText = document.getElementById('prompt').value;
      const outputDiv = document.getElementById('output');

      outputDiv.textContent = 'Generating...'; // Show loading indicator

      try {
        const response = await fetch(
          `https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=${API_KEY}`,
          {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
            },
            body: JSON.stringify({
              contents: [{
                parts: [{
                  text: promptText,
                }],
              }],
            }),
          }
        );

        if (!response.ok) {
          // Handle HTTP errors (e.g., 400, 401, 500)
            const errorData = await response.json(); // Attempt to get error details
            outputDiv.textContent = `Error: ${response.status} - ${response.statusText}\n${JSON.stringify(errorData, null, 2)}`; // Display more specific error
            return;

        }


        const data = await response.json();

        if (data.candidates && data.candidates.length > 0 && data.candidates[0].content && data.candidates[0].content.parts && data.candidates[0].content.parts.length > 0 ) {
            const generatedText = data.candidates[0].content.parts[0].text;
            outputDiv.textContent = generatedText;
        } else if (data.promptFeedback) { // Check for prompt feedback (block reason)
             outputDiv.textContent = `Prompt Feedback:\n${JSON.stringify(data.promptFeedback, null, 2)}`;  // Use JSON.stringify for better formatting
        }  else {
          outputDiv.textContent = 'No output generated.'; // Handle cases with no candidates
        }

      } catch (error) {
        // Handle network errors or other unexpected issues.
        console.error('Error:', error);
         outputDiv.textContent = `An unexpected error occurred: ${error.message}`;
      }
    }
  </script>
</body>
</html>